<script>
    document.addEventListener("DOMContentLoaded", function() {
        var container = document.getElementById("main");
        var images = Array.from(container.getElementsByClassName("image-item"));

        // Shuffle function using Fisher-Yates algorithm
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Shuffle the images
        var shuffledImages = shuffle(images);

        // Limit to 12 images total, 6 per category
        var limitedImages = shuffledImages.slice(0, 12); // Get first 12 images

        // Remove all current images
        while (container.firstChild) {
            container.removeChild(container.firstChild);
        }

        // Append limited images back to the container
        limitedImages.forEach(function(image) {
            container.appendChild(image);
        });
    });
</script>